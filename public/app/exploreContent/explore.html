

 <div ng-controller="exploreCtrl">

 	<input type='text' ng-blur="displayLanguage.set(lang)" ng-model="lang">
	<div ng-controller='termSelectionCtrl' ui-on-Drop="" class="col-sm-12">
		<div class="input-group col-sm-3 col-sm-offset-7">
		    <input type="text" class="form-control" ng-model="displayOptions.DBTerm" typeahead-on-select="addToSelectedFromDB()" typeahead="term as term.name for term in findTerm()" placeholder="type search term here">
		    <span class="input-group-addon"><i class="fa fa-search fa-fw"></i></span>
		</div>

	   	<button ng-hide="filter.isCollapsed" class="noOutline col-sm-offset-2 btn btn-xs btn-default marginTop10" ng-click="filter.isCollapsed = !filter.isCollapsed"> <i class="fa fa-filter"></i>  Hide Term Groups  <i class=' text-muted fa fa-question-circle'></i></button>
	   	<button ng-show="filter.isCollapsed" class="noOutline col-sm-offset-2 btn btn-xs btn-default marginTop10" ng-click="filter.isCollapsed = !filter.isCollapsed"> <i class="fa fa-filter"></i>  Show Term Groups  <i class=' text-muted fa fa-question-circle'></i></button>

	    <div collapse="filter.isCollapsed">

	    	<div  class="f-flexC f-column f-m-between f-c-center panel panel-default marginBottom0 col-sm-8 col-sm-offset-2">
	    		<div class="marginTop10 f-flexC f-row f-wrap f-m-center f-c-center">
	    			<button ng-class="{ 'buttonSelected' : filter.terms.people.included }" ng-click="filter.selectGroups(['person'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.people.included">People</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.organizations.included }" ng-click="filter.selectGroups(['organization'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.organizations.included">Organizations</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.physicalObjects.included }" ng-click="filter.selectGroups(['physical object'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.physicalObjects.included">Physical Objects</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.concepts.included }" ng-click="filter.selectGroups(['concept'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.concepts.included">Concepts</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.jargon.included }" ng-click="filter.selectGroups(['jargon'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.jargon.included">Jargon</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.disciplines.included }" ng-click="filter.selectGroups(['discipline'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.disciplines.included">Disciplines</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.activities.included }" ng-click="filter.selectGroups(['activity'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.activities.included">Activities</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.locations.included }" ng-click="filter.selectGroups(['location'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.locations.included">Locations</button>
					<button ng-class="{ 'buttonSelected' : filter.terms.contentTypes.included }" ng-click="filter.selectGroups(['content type'])" class="btn margin5 btn-xs noOutline btn-default" type="button" ng-model="filter.terms.contentTypes.included">Content Types</button>
	    		</div>
	    		<div class="">
	    			<div class='margin10'>
						<button ng-click="filter.setAll(true)" class=" btn btn-xs btn-primary">Select All</button>
						<button ng-click="filter.setAll(false)" class=" btn btn-xs btn-primary">De-select All</button>
	    			</div>
	    		</div>
	    	</div>
	    </div>
	    <div ui-on-Drop="recievingHandler($data, contentTerms.related)" drop-channel="noneShallPass" drag-enter-class="droppable" class='well well-sm col-sm-8 col-sm-offset-2 height150'>
	        <i class='pull-right text-muted fa fa-question-circle'></i>

	        <span ng-hide="contentTerms.related.length > 0" class="dn-fade text-muted background h3">no matching terms</span>
	        <div class="f-flexC f-row f-m-around f-wrap">
	            <button ui-draggable="true" on-drop-success="dropFromHandler($index,contentTerms.related)" drag="term" ng-repeat="term in contentTerms.related" class='dn-bounce above btn margin5 btn-default'>{{term.name}} <span class="badge">{{term.connections}}</span></button>
	        </div>
	    </div>   
	  	<br>
	    <div ui-on-Drop="recievingHandler($data, contentTerms.selected)" drag-enter-class="droppable" class="well well-sm col-sm-8 col-sm-offset-2">
	        
	        <i class='pull-right text-muted fa fa-question-circle'></i>
	        
	        <div class="f-flexC f-row f-m-center">
	            <span ng-hide="contentTerms.selected.length > 0"class="dn-fade text-muted background h3">search terms</span>
	            <div class="f-flexC f-row f-m-around f-wrap">
	                <button ui-draggable="true" on-drop-success="dropFromHandler($index,contentTerms.selected)" drag="term" ng-repeat="term in contentTerms.selected" class='dn-bounce above btn margin5 btn-default'>{{term.name}}</button>
	            </div>
	        </div>
	    </div>
    
	    <div ui-on-Drop="recievingHandler($data, contentTerms.discarded)" drag-enter-class="droppable" class="well well-sm col-sm-8 col-sm-offset-2">
	        <i class='pull-right text-muted fa fa-question-circle'></i>
	        <div class="f-flexC f-row f-m-center">
	            <span ng-hide="contentTerms.discarded.length > 0" class="dn-fade text-muted background h3">discarded terms</span>
	            <div class="f-flexC f-row f-m-around f-wrap">
	                <button ui-draggable="true" on-drop-success="dropFromHandler($index, contentTerms.discarded)" drag="term" ng-repeat="term in contentTerms.discarded" class='dn-bounce above btn margin5 btn-default btn-xs'>{{term.name}}</button>
	            </div>
	        </div>
	    </div>
	   
	</div>

	<br>

	<div class="cardsContainer f-flexC f-row f-wrap f-m-around">
		<div class="f-flexC  f-column f-m-between cardContainer panel panel-default margin5" ng-repeat="content in returnedContent">
			<div class="panel-heading">
				<i class="fa fa-ban pull-right"></i>
			    <i class="fa fa-eye pull-right"> 0</i>
			    <i class="fa fa-heart pull-right"> 0</i>
                <br>
                <hr ng-show="content.title.length > 0" class="hr">
			    <h3 class="panel-title">{{content.title}}</h3>
			</div>
			<br>
			<div class="f-flexC f-column f-m-center f-c-center imgContainer">
				<a ng-href="content/{{content.UUID}}">
					<img ng-if="content.displayType === 'embed'" ng-src="img/{{content.savedAs}}">			
					<img ng-if="content.displayType === 'image' || content.displayType === 'webpage'" ng-src="img/submittedContent/{{content.savedAs}}">
				</a>
			</div>
			<tabset class='f-grow-1 f-flexC f-column margin10'>
				<tab heading="Terms">
					<div class="f-flexC f-row f-wrap f-m-center ">
						<button ng-repeat="term in content.terms"class="btn btn-default btn-sm margin5">{{term}}</button>
					</div>
				</tab>
				<tab ng-if="content.description.length > 0" heading="Description">
					<div ng-bind-html="content.description" class="margin10"></div>
				</tab>
			</tabset>			
		</div>
	</div>
</div>